!!! 5
%html
  %head
    %meta{ charset: "UTF-8" }
    %meta{ name: "viewport", content: "width=device-width, initial-scale=1.0" }
    %title In-Game Store
    :css
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      .background-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
      }

      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 20px;
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        z-index: 1;
        width: 100%;
        box-sizing: border-box;
      }

      .shards {
        font-size: 18px;
        font-weight: bold;
      }

      .tabs {
        display: flex;
        gap: 15px;
      }

      .tabs button {
        background: none;
        border: none;
        color: white;
        font-size: 16px;
        cursor: pointer;
      }

      .tabs button.active {
        border-bottom: 2px solid #f39c12;
      }

      .store-container {
        margin-top: 20px;
        padding: 20px;
        z-index: 1;
      }

      .item-list {
        display: flex;
        gap: 15px;
        overflow-x: auto;
        padding: 10px 0;
      }

      .item {
        color: black;
        min-width: 150px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background: white;
        text-align: center;
        padding: 10px;
      }

      .item img {
        width: 150px;
        height: 150px;
        object-fit: cover;
        border-radius: 8px;
      }

      .background-img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('#{asset_path('shopBackground.jfif')}');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        z-index: -1;
      }

      .item .description {
        font-size: 14px;
        color: #666;
        margin-top: 10px;
        padding: 0 10px;
        text-align: center;
      }

  %body
    %div.background-img{ style: "background-image: url('#{asset_path('shopBackground.jfif')}');" }

    .header
      .shards
        Shards: 1000
      .tabs
        %button{ class: "active", onclick: "showCategory('shards')" } Shards
        %button{ onclick: "showCategory('avatars')" } Avatars
        %button{ onclick: "showCategory('consumables')" } Consumables
        %button{ onclick: "showCategory('utility')" } Utility
        %button{ onclick: "showCategory('weapons')" } Weapons
      %button{ onclick: "location.href='/games'", class: "menu-button" } Menu

    .store-container
      .item-list{ id: "shards-list" }
        .item
          %img{ src: asset_path("gem1.gif"), alt: "Shard Item 1" }
          %h3 100 Shards
          %p Price: $0.99
          %p.description A small shard, perfect for minor upgrades.
          %button Purchase
        .item
          %img{ src: asset_path("gem2.gif"), alt: "Shard Item 2" }
          %h3 500 Shards
          %p Price: $3.00
          %p.description A medium-sized shard, useful for moderate upgrades.
          %button Purchase

      .item-list{ id: "avatars-list", style: "display:none" }
        .item
          %img{ src: asset_path("avatar_1.jpg"), alt: "Avatar 1" }
          %h3 Avatar 1
          %p Price: 300 Shards
          %p.description A warrior avatar with enhanced strength.
          %button Purchase
        .item
          %img{ src: asset_path("avatar_2.jpg"), alt: "Avatar 2" }
          %h3 Avatar 2
          %p Price: 450 Shards
          %p.description A mage avatar with powerful spells.
          %button Purchase
        .item
          %img{ src: asset_path("ai_generated_avatar.jpg"), alt: "AI Generated Avatar" }
          %h3 AI Generated Avatar
          %p Price: Custom
          %p.description Create a unique avatar using AI technology.
          %button{ onclick: "location.href='/ai_generated_skins/new'" } Create Avatar

      .item-list{ id: "consumables-list", style: "display:none" }
        .item
          %img{ src: asset_path("healthPotion.gif"), alt: "Potion 1" }
          %h3 Health Potion
          %p Price: 100 Shards
          %p.description Restores health over time.
          %button Purchase

      .item-list{ id: "weapons-list", style: "display:none" }
        .item
          %img{ src: asset_path("bowAndArrow.gif"), alt: "Weapon Item 1" }
          %h3 Bow and Arrow
          %p Price: 250 Shards
          %p.description A ranged weapon for quick attacks.
          %button Purchase

      .item-list{ id: "utility-list", style: "display:none" }
        .item
          %img{ src: asset_path("portal.gif"), alt: "Utility Item 1" }
          %h3 Portal
          %p Price: 250 Shards
          %p.description Teleports you to a distant location.
          %button Purchase

    :javascript
      function showCategory(category) {
        document.querySelectorAll('.item-list').forEach(list => {
          list.style.display = 'none';
        });
        document.getElementById(`${category}-list`).style.display = 'flex';

        document.querySelectorAll('.tabs button').forEach(tab => {
          tab.classList.remove('active');
        });
        event.target.classList.add('active');
      }
